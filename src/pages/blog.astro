---
const url = "blog";
import BaseLayout from "../layouts/BaseLayout.astro";
import Article from "../components/Article.astro";
import DescList from "../components/DescList.astro";
const allPosts = await Astro.glob("./posts/*.md");
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())];
---

<BaseLayout url={url}>
    <Article title="Blogs">
        <div class="tags">
            <section class="flex flex-wrap p-2 m-2">
                {
                    tags.map((tag) => (
                        <a
                            class="px-2 py-1 m-1 text-zinc-700 bg-zinc-300 hover:bg-zinc-700 hover:text-zinc-300 rounded-xl"
                            href={`/tags/${tag}`}
                        >
                            {tag}
                        </a>
                    ))
                }
            </section>

            <section class="p-2 m-2 w-full">
                <DescList
                    descriptions={allPosts.map((post) => ({
                        term: post.frontmatter.title,
                        url: post.url,
                        def: post.frontmatter.description,
                    }))}
                />
            </section>
        </div>
    </Article>
</BaseLayout>
