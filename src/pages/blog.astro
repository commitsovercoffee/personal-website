---
import BaseLayout from "../layouts/BaseLayout.astro";
import Article from "../components/Article.astro";
import DescList from "../components/DescList.astro";

const url = "blog";
const allPosts = await Astro.glob("./posts/*.md");
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())];
---

<BaseLayout url={url}>
    <Article title="Blogs">
        <section class="flex flex-wrap my-6">
            {
                tags.map((tag) => (
                    <a
                        class="px-2 py-1 m-2 no-underline bg-zinc-300 prose hover:bg-zinc-700 hover:prose-invert rounded-xl transition duration-300 delay-50 ease-in"
                        href={`/tags/${tag}`}
                    >
                        {tag}
                    </a>
                ))
            }
        </section>

        <DescList
            descriptions={allPosts.map((post) => ({
                term: post.frontmatter.title,
                url: post.url,
                def: post.frontmatter.description,
            }))}
        />
    </Article>
</BaseLayout>
